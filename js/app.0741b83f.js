(function(){"use strict";var e={2058:function(e,t,r){var s=r(9242),a=r(3396),i=r(7139);const n=(0,a._)("i",{class:"pi pi-power-off"},null,-1);function l(e,t,r,s,i,l){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=(...t)=>e.login&&e.login(...t))},[n,(0,a.Uk)("Login")])}var o={},c=r(89);const u=(0,c.Z)(o,[["render",l]]);var d=u;const g={key:0,class:"widget notification error"};function p(e,t,r,s,n,l){return r.message?((0,a.wg)(),(0,a.iD)("div",g,(0,i.zw)(r.message),1)):(0,a.kq)("",!0)}var v={props:["message"]};const h=(0,c.Z)(v,[["render",p]]);var w=h,m=r(65),_=r(5420),f=r(4219),k=r(1598);async function y(){let e=fetch("https://localhost:7147/api/Car/All").catch((()=>console.log("error")));return!!await e&&(await e).json()}async function C(e,t){let r={email:e,password:t};if(!window.location.toString().includes("localhost"))return"adam@example.com"==e&&"password"==t;let s=await fetch("https://localhost:7147/api/User/",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify(r)}).catch((()=>console.log("error")));if(void 0==s||200!=s.status)return!1;let a=s.text();return localStorage.setItem("jwt",await a),await a}async function $(e,t,r,s,a){let i={carName:e,carColour:t,carSku:r,carEngineSize:s,carEngineType:a},n=fetch("https://localhost:7147/api/Car/",{method:"POST",headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}),body:JSON.stringify(i)}).catch((()=>console.log("error")));if(!await n)return!1;let l=(await n).json();return l}async function S(){let e=await fetch("https://localhost:7147/api/Stats/");return{totalCars:await e.text(),usersOnline:2,adminsOnline:3}}const b={getAllCars:y,login:C,createCar:$,getStats:S};var T=b;const O=e=>((0,a.dD)("data-v-2b5c3dc6"),e=e(),(0,a.Cn)(),e),D={class:"page"},U={class:"login widget"},x=O((()=>(0,a._)("h1",null,"Login",-1))),j=O((()=>(0,a._)("label",null,"Email",-1))),z={key:0,class:"error"},q=O((()=>(0,a._)("label",null,"Password",-1))),I={key:1,class:"error"},W={data(){return{v$:(0,f.Xw)(),email:"",password:"",errorText:""}},methods:{...(0,m.OI)(["setIsJwt","setUser"]),async login(){if(this.v$.$validate(),this.v$.$error)return void(this.errorText="Error! Please fill out all fields");let e=await T.login(this.email,this.password);if(await e){this.setIsJwt(!0);var t=(0,k.Z)(await e);this.setUser(t)}else this.errorText="Invalid credentials"}},validations(){return{email:{required:_.C1},password:{required:_.C1}}}};var A=Object.assign(W,{__name:"LoginPage",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",U,[x,(0,a.Wm)(w,{message:e.errorText},null,8,["message"]),j,this.v$.email.$error?((0,a.wg)(),(0,a.iD)("div",z,"Email is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),onBlur:t[1]||(t[1]=(...e)=>this.v$.email.$touch&&this.v$.email.$touch(...e)),class:(0,i.C_)({error:this.v$.email.$error}),type:"text"},null,34),[[s.nr,e.email]]),q,this.v$.password.$error?((0,a.wg)(),(0,a.iD)("div",I,"Password is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{onKeydown:t[2]||(t[2]=(0,s.D2)(((...t)=>e.login&&e.login(...t)),["enter"])),"onUpdate:modelValue":t[3]||(t[3]=t=>e.password=t),onBlur:t[4]||(t[4]=(...e)=>this.v$.password.$touch&&this.v$.password.$touch(...e)),class:(0,i.C_)({error:this.v$.password.$error}),type:"password"},null,34),[[s.nr,e.password]]),(0,a.Wm)(d,{onClick:e.login,class:"black"},null,8,["onClick"])])]))}});const P=(0,c.Z)(A,[["__scopeId","data-v-2b5c3dc6"]]);var E=P;const J=(0,a._)("i",{class:"pi pi-power-off"},null,-1);function Z(e,t,r,s,i,n){return(0,a.wg)(),(0,a.iD)("button",{onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e))},[J,(0,a.Uk)("Logout")])}var B={methods:{...(0,m.Se)(["isJwtSet"]),...(0,m.OI)(["setIsJwt","setUser"]),logout(){localStorage.removeItem("jwt"),this.setIsJwt(!1),this.setUser(!1)}}};const N=(0,c.Z)(B,[["render",Z]]);var V=N;const H={id:"sidemenu"},L=(0,a._)("div",{class:"title"},[(0,a._)("i",{class:"pi pi-check"}),(0,a.Uk)(" Dealership")],-1),M=(0,a._)("div",{class:"breaker"},null,-1),F=(0,a._)("i",{class:"pi pi-car"},null,-1),Y=(0,a._)("i",{class:"pi pi-plus"},null,-1),K=(0,a._)("i",{class:"pi pi-chart-bar"},null,-1),X={class:"bottom-links"},G={};var Q=Object.assign(G,{__name:"SideMenu",setup(e){return(e,t)=>{const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",H,[L,M,(0,a.Wm)(r,{to:"/"},{default:(0,a.w5)((()=>[F,(0,a.Uk)("All Cars")])),_:1}),(0,a.Wm)(r,{to:"/car/add"},{default:(0,a.w5)((()=>[Y,(0,a.Uk)("Add Car")])),_:1}),(0,a.Wm)(r,{to:"/activity"},{default:(0,a.w5)((()=>[K,(0,a.Uk)("Activity")])),_:1}),(0,a._)("div",X,[(0,a.Wm)(V)])])}}});const R=Q;var ee=R;const te={id:"topbar"},re=(0,a._)("div",{class:"search"},[(0,a._)("i",{class:"pi pi-search"}),(0,a._)("input",{type:"text",placeholder:"Search a car"})],-1),se={class:"topbar-right"},ae=(0,a._)("div",{class:"notifications"},[(0,a._)("i",{class:"pi pi-bell"}),(0,a._)("div",{class:"count"},"3")],-1),ie={class:"name"},ne=(0,a._)("div",{class:"profile"},[(0,a._)("img",{src:"https://avatars.githubusercontent.com/u/82769416?s=58&v=5"})],-1);function le(e,t,r,s,n,l){return(0,a.wg)(),(0,a.iD)("div",te,[re,(0,a._)("div",se,[ae,(0,a._)("div",ie,(0,i.zw)(e.getUser.name),1),ne])])}var oe={computed:{...(0,m.Se)(["getUser","isJwtSet"]),...(0,m.OI)(["setUser"])}};const ce=(0,c.Z)(oe,[["render",le]]);var ue=ce;const de=(0,a._)("title",null,"Vue",-1),ge=(0,a._)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),pe=(0,a._)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),ve=(0,a._)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap",rel:"stylesheet"},null,-1),he={key:1,id:"page-container"},we={name:"App",components:{SideMenu:ee,TopBar:ue},mounted(){this.checkLogin()},methods:{...(0,m.Se)(["getUser","isJwtSet"]),...(0,m.OI)(["setUser"]),checkLogin(){if(this.isJwtSet()){var e=(0,k.Z)(localStorage.getItem("jwt"));console.log(e),this.setUser(e)}return!0}}};var me=Object.assign(we,{setup(e){return(e,t)=>{const r=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[de,ge,pe,ve,e.isJwtSet?((0,a.wg)(),(0,a.j4)(ee,{key:0})):(0,a.kq)("",!0),e.isJwtSet?((0,a.wg)(),(0,a.iD)("div",he,[(0,a.Wm)(ue),(0,a.Wm)(r)])):(0,a.kq)("",!0),e.isJwtSet?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(E,{key:2}))],64)}}});const _e=me;var fe=_e;const ke=(0,m.MT)({state(){return{user:{},jwtSet:!!localStorage.getItem("jwt"),stats:{totalCars:1,usersOnline:2,adminsOnline:3},cars:[{carName:"Ford Fiesta",carColour:"Silver",carSku:"ffsilver"},{carName:"BMW M140",carColour:"Black",carSku:"bmblack"}]}},mutations:{setCars(e,t){e.cars=t},setIsJwt(e,t){e.jwtSet=t},setStats(e,t){e.stats=t},setUser(e,t){e.user=t}},getters:{getCarsData(e){return e.cars},isJwtSet(e){return e.jwtSet},getStats(e){return e.stats},getUser(e){return e.user}}});var ye=ke,Ce=r(2483);const $e={ref:"cars"},Se=(0,a._)("thead",null,[(0,a._)("td",null,"Car Name"),(0,a._)("td",null,"Car Engine"),(0,a._)("td",null,"Engine Type"),(0,a._)("td",null,"Car Color"),(0,a._)("td",null,"Car Sku"),(0,a._)("td")],-1);function be(e,t,r,s,n,l){const o=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("table",$e,[Se,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.getCarsData,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",null,(0,i.zw)(e.carName),1),(0,a._)("td",null,(0,i.zw)(e.carEngineSize),1),(0,a._)("td",null,(0,i.zw)(e.carEngineType),1),(0,a._)("td",null,(0,i.zw)(e.carColour),1),(0,a._)("td",null,(0,i.zw)(e.carSku),1),(0,a._)("td",null,[(0,a.Wm)(o,{class:"button",to:{path:"/car/"+e.id}},{default:(0,a.w5)((()=>[(0,a.Uk)("View Car")])),_:2},1032,["to"])])])))),128))])],512)}var Te={mounted(){this.getCars()},methods:{...(0,m.OI)(["setCars"]),async getCars(){var e=await T.getAllCars();0!=e&&this.setCars(e.value)}},computed:{...(0,m.Se)(["getCarsData"])}};const Oe=(0,c.Z)(Te,[["render",be]]);var De=Oe;const Ue=e=>((0,a.dD)("data-v-1712c368"),e=e(),(0,a.Cn)(),e),xe={class:"full-widget widget"},je={class:"title"},ze={class:"title-right"},qe=Ue((()=>(0,a._)("select",null,[(0,a._)("option",null,"Name"),(0,a._)("option",null,"Engine Size"),(0,a._)("option",null,"Highest Price"),(0,a._)("option",null,"Lowest Price")],-1))),Ie=Ue((()=>(0,a._)("i",{class:"pi pi-plus-circle"},null,-1))),We={class:"table-holder"},Ae={};var Pe=Object.assign(Ae,{__name:"AllCarsWidget",setup(e){return(e,t)=>{const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",xe,[(0,a._)("div",je,[(0,a.Uk)("All Cars "),(0,a._)("div",ze,[qe,(0,a.Wm)(r,{class:"button",to:"/car/add"},{default:(0,a.w5)((()=>[Ie,(0,a.Uk)(" Add Car")])),_:1})])]),(0,a._)("div",We,[(0,a.Wm)(De)])])}}});const Ee=(0,c.Z)(Pe,[["__scopeId","data-v-1712c368"]]);var Je=Ee;const Ze={class:"flex-3"},Be={class:"widget-3 widget accent"},Ne=(0,a._)("div",{class:"title-small"},"Total Cars",-1),Ve={class:"value"},He=(0,a._)("div",{class:"icon"},[(0,a._)("i",{class:"pi pi-car"})],-1),Le={class:"widget-3 widget"},Me=(0,a._)("div",{class:"title-small"},"Users Online",-1),Fe={class:"value"},Ye=(0,a._)("div",{class:"icon"},[(0,a._)("i",{class:"pi pi-user"})],-1),Ke={class:"widget-3 widget"},Xe=(0,a._)("div",{class:"title-small"},"Staff Online",-1),Ge={class:"value"},Qe=(0,a._)("div",{class:"icon orange"},[(0,a._)("i",{class:"pi pi-bolt"})],-1);function Re(e,t,r,s,n,l){return(0,a.wg)(),(0,a.iD)("div",Ze,[(0,a._)("div",Be,[Ne,(0,a._)("div",Ve,(0,i.zw)(e.getStats.totalCars),1),He]),(0,a._)("div",Le,[Me,(0,a._)("div",Fe,(0,i.zw)(e.getStats.usersOnline),1),Ye]),(0,a._)("div",Ke,[Xe,(0,a._)("div",Ge,(0,i.zw)(e.getStats.adminsOnline),1),Qe])])}var et={mounted(){this.getStatsState()},methods:{...(0,m.OI)(["setStats"]),async getStatsState(){return this.setStats(await T.getStats()),!0}},computed:{...(0,m.Se)(["getStats"])}};const tt=(0,c.Z)(et,[["render",Re]]);var rt=tt;const st={class:"page"},at={};var it=Object.assign(at,{__name:"HomePage",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("div",st,[(0,a.Wm)(rt),(0,a.Wm)(Je)]))}});const nt=it;var lt=nt;const ot={key:0,class:"widget notification success"};function ct(e,t,r,s,n,l){return r.message?((0,a.wg)(),(0,a.iD)("div",ot,(0,i.zw)(r.message),1)):(0,a.kq)("",!0)}var ut={props:["message"]};const dt=(0,c.Z)(ut,[["render",ct]]);var gt=dt;const pt={class:"full-widget widget addcar"},vt=(0,a._)("div",{class:"title"},"Add Car",-1),ht=(0,a._)("label",null,[(0,a.Uk)("Car Name"),(0,a._)("sup",null,"*")],-1),wt={key:0,class:"error errorText"},mt=(0,a._)("label",null,[(0,a.Uk)("Car Engine Size"),(0,a._)("sup",null,"*")],-1),_t={key:1,class:"error errorText"},ft=(0,a._)("label",null,[(0,a.Uk)("Car Engine Type"),(0,a._)("sup",null,"*")],-1),kt={key:2,class:"error errorText"},yt=(0,a._)("label",null,[(0,a.Uk)("Car Colour"),(0,a._)("sup",null,"*")],-1),Ct={key:3,class:"error errorText"},$t=(0,a._)("label",null,[(0,a.Uk)("Car Sku"),(0,a._)("sup",null,"*")],-1),St={key:4,class:"error errorText"},bt={data(){return{v$:(0,f.Xw)(),name:"",colour:"",sku:"",engineSize:"",engineType:"",successText:"",errorText:""}},methods:{async createCar(e){if(e.preventDefault(),this.successText="",this.successText="",this.v$.$validate(),this.v$.$error)return void(this.errorText="Error! Please fill out all fields");let t=await T.createCar(this.name,this.colour,this.sku,this.engineSize,this.engineType);await t?(this.successText="Successfully created new car",this.name="",this.colour="",this.sku="",this.engineSize="",this.engineType="",this.v$.$reset()):this.errorText="Error! Car couldn't be created"}},validations(){return{name:{required:_.C1},colour:{required:_.C1},sku:{required:_.C1},engineType:{required:_.C1},engineSize:{required:_.C1}}}};var Tt=Object.assign(bt,{__name:"AddCarWidget",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(gt,{message:e.successText},null,8,["message"]),(0,a.Wm)(w,{message:e.errorText},null,8,["message"]),(0,a._)("div",pt,[vt,(0,a._)("form",null,[ht,this.v$.name.$error?((0,a.wg)(),(0,a.iD)("div",wt,"Car name is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.name=t),onBlur:t[1]||(t[1]=(...e)=>this.v$.name.$touch&&this.v$.name.$touch(...e)),class:(0,i.C_)({error:this.v$.name.$error})},null,34),[[s.nr,e.name]]),mt,this.v$.engineSize.$error?((0,a.wg)(),(0,a.iD)("div",_t,"Car engine size is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.engineSize=t),onBlur:t[3]||(t[3]=(...e)=>this.v$.engineSize.$touch&&this.v$.engineSize.$touch(...e)),class:(0,i.C_)({error:this.v$.engineSize.$error})},null,34),[[s.nr,e.engineSize]]),ft,this.v$.engineType.$error?((0,a.wg)(),(0,a.iD)("div",kt,"Car engine type is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=t=>e.engineType=t),onBlur:t[5]||(t[5]=(...e)=>this.v$.engineType.$touch&&this.v$.engineType.$touch(...e)),class:(0,i.C_)({error:this.v$.engineType.$error})},null,34),[[s.nr,e.engineType]]),yt,this.v$.colour.$error?((0,a.wg)(),(0,a.iD)("div",Ct,"Car colour is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=t=>e.colour=t),onBlur:t[7]||(t[7]=(...e)=>this.v$.colour.$touch&&this.v$.colour.$touch(...e)),class:(0,i.C_)({error:this.v$.colour.$error})},null,34),[[s.nr,e.colour]]),$t,this.v$.sku.$error?((0,a.wg)(),(0,a.iD)("div",St,"Car sku is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=t=>e.sku=t),onBlur:t[9]||(t[9]=(...e)=>this.v$.sku.$touch&&this.v$.sku.$touch(...e)),class:(0,i.C_)({error:this.v$.sku.$error})},null,34),[[s.nr,e.sku]]),(0,a._)("button",{type:"button",onClick:t[10]||(t[10]=(...t)=>e.createCar&&e.createCar(...t)),class:"black"},"Add Car")])])],64))}});const Ot=Tt;var Dt=Ot;const Ut={class:"page"},xt={};var jt=Object.assign(xt,{__name:"AddCarPage",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("div",Ut,[(0,a.Wm)(rt),(0,a.Wm)(Dt)]))}});const zt=(0,c.Z)(jt,[["__scopeId","data-v-484031f0"]]);var qt=zt;const It={class:"full-widget widget"},Wt=(0,a._)("div",{class:"title"},"Activity ",-1),At=[Wt];function Pt(e,t,r,s,i,n){return(0,a.wg)(),(0,a.iD)("div",It,At)}var Et={};const Jt=(0,c.Z)(Et,[["render",Pt]]);var Zt=Jt;const Bt={class:"page"},Nt={};var Vt=Object.assign(Nt,{__name:"ActivityPage",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("div",Bt,[(0,a.Wm)(Zt)]))}});const Ht=Vt;var Lt=Ht;const Mt={class:"page"};function Ft(e,t,r,s,n,l){return(0,a.wg)(),(0,a.iD)("div",Mt," Single Car Page "+(0,i.zw)(e.$route.params.id),1)}var Yt={};const Kt=(0,c.Z)(Yt,[["render",Ft]]);var Xt=Kt;const Gt=[{path:"/",component:lt},{path:"/car/add",component:qt},{path:"/activity",component:Lt},{path:"/car/:id",component:Xt}],Qt=(0,Ce.p7)({history:(0,Ce.PO)("/car-dealership/"),routes:Gt});var Rt=Qt;const er=(0,s.ri)(fe);er.use(Rt),er.use(ye),er.mount("#app")}},t={};function r(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,s,a,i){if(!s){var n=1/0;for(u=0;u<e.length;u++){s=e[u][0],a=e[u][1],i=e[u][2];for(var l=!0,o=0;o<s.length;o++)(!1&i||n>=i)&&Object.keys(r.O).every((function(e){return r.O[e](s[o])}))?s.splice(o--,1):(l=!1,i<n&&(n=i));if(l){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,a,i]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,i,n=s[0],l=s[1],o=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(o)var u=o(r)}for(t&&t(s);c<n.length;c++)i=n[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},s=self["webpackChunkcar_dealership"]=self["webpackChunkcar_dealership"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(2058)}));s=r.O(s)})();
//# sourceMappingURL=app.0741b83f.js.map