(function(){"use strict";var t={6762:function(t,e,r){var s=r(9242),a=r(3396),i=r(7139);const n=(0,a._)("i",{class:"pi pi-power-off"},null,-1);function l(t,e,r,s,i,l){return(0,a.wg)(),(0,a.iD)("button",{onClick:e[0]||(e[0]=(...e)=>t.login&&t.login(...e))},[n,(0,a.Uk)("Login")])}var o={},c=r(89);const u=(0,c.Z)(o,[["render",l]]);var d=u;const v={key:0,class:"widget notification error"};function p(t,e,r,s,n,l){return r.message?((0,a.wg)(),(0,a.iD)("div",v,(0,i.zw)(r.message),1)):(0,a.kq)("",!0)}var g={props:["message"]};const w=(0,c.Z)(g,[["render",p]]);var h=w,m=r(65),f=r(5420),_=r(4219);async function k(){let t=fetch("https://localhost:7147/api/Car/All").catch((()=>console.log("error")));return!!await t&&(await t).json()}async function C(t,e){let r={email:t,password:e};if(!window.location.toString().includes("localhost"))return"adam@example.com"==t&&"password"==e;let s=await fetch("https://localhost:7147/api/User/",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify(r)}).catch((()=>console.log("error")));if(200!=s.status)return!1;let a=s.text();return localStorage.setItem("jwt",await a),!0}async function y(t,e,r){let s={carName:t,carColour:e,carSku:r},a=fetch("https://localhost:7147/api/Car/",{method:"POST",headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}),body:JSON.stringify(s)}).catch((()=>console.log("error")));if(!await a)return!1;let i=(await a).json();return i}const b={getAllCars:k,login:C,createCar:y};var $=b;const S=t=>((0,a.dD)("data-v-111bbd9e"),t=t(),(0,a.Cn)(),t),D={class:"page"},x={class:"login widget"},O=S((()=>(0,a._)("label",null,"Email",-1))),j={key:0,class:"error"},T=S((()=>(0,a._)("label",null,"Password",-1))),q={key:1,class:"error"},W={data(){return{v$:(0,_.Xw)(),email:"",password:"",errorText:""}},methods:{...(0,m.Se)(["isJwtSet"]),...(0,m.OI)(["setIsJwt"]),async login(){if(this.v$.$validate(),this.v$.$error)return void(this.errorText="Error! Please fill out all fields");let t=await $.login(this.email,this.password);console.log(await t),await t?this.setIsJwt(!0):this.errorText="Invalid credentials"}},validations(){return{email:{required:f.C1},password:{required:f.C1}}}};var A=Object.assign(W,{__name:"LoginPage",setup(t){return(t,e)=>((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",x,[(0,a.Wm)(h,{message:t.errorText},null,8,["message"]),O,this.v$.email.$error?((0,a.wg)(),(0,a.iD)("div",j,"Email is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.email=e),onBlur:e[1]||(e[1]=(...t)=>this.v$.email.$touch&&this.v$.email.$touch(...t)),class:(0,i.C_)({error:this.v$.email.$error}),type:"text"},null,34),[[s.nr,t.email]]),T,this.v$.password.$error?((0,a.wg)(),(0,a.iD)("div",q,"Password is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{onKeydown:e[2]||(e[2]=(0,s.D2)(((...e)=>t.login&&t.login(...e)),["enter"])),"onUpdate:modelValue":e[3]||(e[3]=e=>t.password=e),onBlur:e[4]||(e[4]=(...t)=>this.v$.password.$touch&&this.v$.password.$touch(...t)),class:(0,i.C_)({error:this.v$.password.$error}),type:"password"},null,34),[[s.nr,t.password]]),(0,a.Wm)(d,{onClick:t.login,class:"black"},null,8,["onClick"])])]))}});const U=(0,c.Z)(A,[["__scopeId","data-v-111bbd9e"]]);var P=U;const I=(0,a._)("i",{class:"pi pi-power-off"},null,-1);function J(t,e,r,s,i,n){return(0,a.wg)(),(0,a.iD)("button",{onClick:e[0]||(e[0]=(...t)=>n.logout&&n.logout(...t))},[I,(0,a.Uk)("Logout")])}var E={methods:{...(0,m.Se)(["isJwtSet"]),...(0,m.OI)(["setIsJwt"]),logout(){localStorage.removeItem("jwt"),this.setIsJwt(!1)}}};const Z=(0,c.Z)(E,[["render",J]]);var z=Z;const B={id:"sidemenu"},N=(0,a._)("div",{class:"title"},[(0,a._)("i",{class:"pi pi-check"}),(0,a.Uk)(" Dealership")],-1),H=(0,a._)("div",{class:"breaker"},null,-1),M=(0,a._)("i",{class:"pi pi-car"},null,-1),V=(0,a._)("i",{class:"pi pi-plus"},null,-1),L=(0,a._)("i",{class:"pi pi-chart-bar"},null,-1),F={class:"bottom-links"},Y={};var K=Object.assign(Y,{__name:"SideMenu",setup(t){return(t,e)=>{const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",B,[N,H,(0,a.Wm)(r,{to:"/"},{default:(0,a.w5)((()=>[M,(0,a.Uk)("All Cars")])),_:1}),(0,a.Wm)(r,{to:"/car/add"},{default:(0,a.w5)((()=>[V,(0,a.Uk)("Add Car")])),_:1}),(0,a.Wm)(r,{to:"/activity"},{default:(0,a.w5)((()=>[L,(0,a.Uk)("Activity")])),_:1}),(0,a._)("div",F,[(0,a.Wm)(z)])])}}});const X=K;var G=X;const Q={id:"topbar"},R=(0,a.uE)('<div class="search"><i class="pi pi-search"></i><input type="text" placeholder="Search a car"></div><div class="topbar-right"><div class="notifications"><i class="pi pi-bell"></i><div class="count">3</div></div><div class="name">Adam Curzon</div><div class="profile"><img src="https://avatars.githubusercontent.com/u/82769416?s=58&amp;v=5"></div></div>',2),tt=[R];function et(t,e,r,s,i,n){return(0,a.wg)(),(0,a.iD)("div",Q,tt)}var rt={};const st=(0,c.Z)(rt,[["render",et]]);var at=st;const it=(0,a._)("title",null,"Vue",-1),nt=(0,a._)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),lt=(0,a._)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),ot=(0,a._)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap",rel:"stylesheet"},null,-1),ct={key:1,id:"page-container"},ut={name:"App",components:{SideMenu:G,TopBar:at},computed:{...(0,m.Se)(["isJwtSet"])}};var dt=Object.assign(ut,{setup(t){return(t,e)=>{const r=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[it,nt,lt,ot,t.isJwtSet?((0,a.wg)(),(0,a.j4)(G,{key:0})):(0,a.kq)("",!0),t.isJwtSet?((0,a.wg)(),(0,a.iD)("div",ct,[(0,a.Wm)(at),(0,a.Wm)(r)])):(0,a.kq)("",!0),t.isJwtSet?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(P,{key:2}))],64)}}});const vt=dt;var pt=vt;const gt=(0,m.MT)({state(){return{jwtSet:!!localStorage.getItem("jwt"),cars:[{carName:"Ford Fiesta",carColour:"Silver",carSku:"ffsilver"},{carName:"BMW M140",carColour:"Black",carSku:"bmblack"}]}},mutations:{setCars(t,e){t.cars=e},setIsJwt(t,e){t.jwtSet=e}},getters:{getCarsData(t){return t.cars},isJwtSet(t){return t.jwtSet}}});var wt=gt,ht=r(2483);const mt={ref:"cars"},ft=(0,a._)("thead",null,[(0,a._)("td",null,"Car Name"),(0,a._)("td",null,"Car Engine"),(0,a._)("td",null,"Engine Type"),(0,a._)("td",null,"Car Color"),(0,a._)("td",null,"Car Sku"),(0,a._)("td")],-1),_t=(0,a._)("td",null,"1.1",-1),kt=(0,a._)("td",null,"Petrol",-1),Ct=(0,a._)("td",null,null,-1);function yt(t,e,r,s,n,l){return(0,a.wg)(),(0,a.iD)("table",mt,[ft,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.getCarsData,((t,e)=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[(0,a._)("td",null,(0,i.zw)(t.carName),1),_t,kt,(0,a._)("td",null,(0,i.zw)(t.carColour),1),(0,a._)("td",null,(0,i.zw)(t.carSku),1),Ct])))),128))])],512)}var bt={mounted(){this.getCars()},methods:{...(0,m.OI)(["setCars"]),async getCars(){var t=await $.getAllCars();0!=t&&this.setCars(t.value)}},computed:{...(0,m.Se)(["getCarsData"])}};const $t=(0,c.Z)(bt,[["render",yt]]);var St=$t;const Dt=t=>((0,a.dD)("data-v-1712c368"),t=t(),(0,a.Cn)(),t),xt={class:"full-widget widget"},Ot={class:"title"},jt={class:"title-right"},Tt=Dt((()=>(0,a._)("select",null,[(0,a._)("option",null,"Name"),(0,a._)("option",null,"Engine Size"),(0,a._)("option",null,"Highest Price"),(0,a._)("option",null,"Lowest Price")],-1))),qt=Dt((()=>(0,a._)("i",{class:"pi pi-plus-circle"},null,-1))),Wt={class:"table-holder"},At={};var Ut=Object.assign(At,{__name:"AllCarsWidget",setup(t){return(t,e)=>{const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",xt,[(0,a._)("div",Ot,[(0,a.Uk)("All Cars "),(0,a._)("div",jt,[Tt,(0,a.Wm)(r,{class:"button",to:"/car/add"},{default:(0,a.w5)((()=>[qt,(0,a.Uk)(" Add Car")])),_:1})])]),(0,a._)("div",Wt,[(0,a.Wm)(St)])])}}});const Pt=(0,c.Z)(Ut,[["__scopeId","data-v-1712c368"]]);var It=Pt;const Jt={class:"flex-3"},Et=(0,a.uE)('<div class="widget-3 widget accent"><div class="title-small">Total Cars</div><div class="value">3</div><div class="icon"><i class="pi pi-car"></i></div></div><div class="widget-3 widget"><div class="title-small">Users Online</div><div class="value">1</div><div class="icon"><i class="pi pi-user"></i></div></div><div class="widget-3 widget"><div class="title-small">Staff Online</div><div class="value">1</div><div class="icon orange"><i class="pi pi-bolt"></i></div></div>',3),Zt=[Et];function zt(t,e,r,s,i,n){return(0,a.wg)(),(0,a.iD)("div",Jt,Zt)}var Bt={};const Nt=(0,c.Z)(Bt,[["render",zt]]);var Ht=Nt;const Mt={class:"page"},Vt={};var Lt=Object.assign(Vt,{__name:"HomePage",setup(t){return(t,e)=>((0,a.wg)(),(0,a.iD)("div",Mt,[(0,a.Wm)(Ht),(0,a.Wm)(It)]))}});const Ft=Lt;var Yt=Ft;const Kt={key:0,class:"widget notification success"};function Xt(t,e,r,s,n,l){return r.message?((0,a.wg)(),(0,a.iD)("div",Kt,(0,i.zw)(r.message),1)):(0,a.kq)("",!0)}var Gt={props:["message"]};const Qt=(0,c.Z)(Gt,[["render",Xt]]);var Rt=Qt;const te={class:"full-widget widget addcar"},ee=(0,a._)("div",{class:"title"},"Add Car",-1),re=(0,a._)("label",null,[(0,a.Uk)("Car Name"),(0,a._)("sup",null,"*")],-1),se={key:0,class:"error errorText"},ae=(0,a._)("label",null,[(0,a.Uk)("Car Colour"),(0,a._)("sup",null,"*")],-1),ie={key:1,class:"error errorText"},ne=(0,a._)("label",null,[(0,a.Uk)("Car Sku"),(0,a._)("sup",null,"*")],-1),le={key:2,class:"error errorText"},oe={data(){return{v$:(0,_.Xw)(),name:"",colour:"",sku:"",successText:"",errorText:""}},methods:{async createCar(t){if(t.preventDefault(),this.successText="",this.successText="",this.v$.$validate(),this.v$.$error)return void(this.errorText="Error! Please fill out all fields");let e=await $.createCar(this.name,this.colour,this.sku);await e?(this.successText="Successfully created new car",this.name="",this.colour="",this.sku=""):this.errorText="Error! Car couldn't be created"}},validations(){return{name:{required:f.C1},colour:{required:f.C1},sku:{required:f.C1}}}};var ce=Object.assign(oe,{__name:"AddCarWidget",setup(t){return(t,e)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(Rt,{message:t.successText},null,8,["message"]),(0,a.Wm)(h,{message:t.errorText},null,8,["message"]),(0,a._)("div",te,[ee,(0,a._)("form",null,[re,this.v$.name.$error?((0,a.wg)(),(0,a.iD)("div",se,"Car name is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>t.name=e),onBlur:e[1]||(e[1]=(...t)=>this.v$.name.$touch&&this.v$.name.$touch(...t)),class:(0,i.C_)({error:this.v$.name.$error})},null,34),[[s.nr,t.name]]),ae,this.v$.colour.$error?((0,a.wg)(),(0,a.iD)("div",ie,"Car colour is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=e=>t.colour=e),onBlur:e[3]||(e[3]=(...t)=>this.v$.colour.$touch&&this.v$.colour.$touch(...t)),class:(0,i.C_)({error:this.v$.colour.$error})},null,34),[[s.nr,t.colour]]),ne,this.v$.sku.$error?((0,a.wg)(),(0,a.iD)("div",le,"Car sku is required")):(0,a.kq)("",!0),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=e=>t.sku=e),onBlur:e[5]||(e[5]=(...t)=>this.v$.sku.$touch&&this.v$.sku.$touch(...t)),class:(0,i.C_)({error:this.v$.sku.$error})},null,34),[[s.nr,t.sku]]),(0,a._)("button",{type:"button",onClick:e[6]||(e[6]=(...e)=>t.createCar&&t.createCar(...e)),class:"black"},"Add Car")])])],64))}});const ue=ce;var de=ue;const ve={class:"page"},pe={};var ge=Object.assign(pe,{__name:"AddCarPage",setup(t){return(t,e)=>((0,a.wg)(),(0,a.iD)("div",ve,[(0,a.Wm)(Ht),(0,a.Wm)(de)]))}});const we=ge;var he=we;const me={class:"full-widget widget"},fe=(0,a._)("div",{class:"title"},"Activity ",-1),_e=[fe];function ke(t,e,r,s,i,n){return(0,a.wg)(),(0,a.iD)("div",me,_e)}var Ce={};const ye=(0,c.Z)(Ce,[["render",ke]]);var be=ye;const $e={class:"page"},Se={};var De=Object.assign(Se,{__name:"ActivityPage",setup(t){return(t,e)=>((0,a.wg)(),(0,a.iD)("div",$e,[(0,a.Wm)(be)]))}});const xe=De;var Oe=xe;const je={class:"page"};function Te(t,e,r,s,n,l){return(0,a.wg)(),(0,a.iD)("div",je," Single Car Page "+(0,i.zw)(t.$route.params.id),1)}var qe={};const We=(0,c.Z)(qe,[["render",Te]]);var Ae=We;const Ue=[{path:"/",component:Yt},{path:"/car/add",component:he},{path:"/activity",component:Oe},{path:"/car/:id",component:Ae}],Pe=(0,ht.p7)({history:(0,ht.PO)("/car-dealership/"),routes:Ue});var Ie=Pe;const Je=(0,s.ri)(pt);Je.use(Ie),Je.use(wt),Je.mount("#app")}},e={};function r(s){var a=e[s];if(void 0!==a)return a.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,r),i.exports}r.m=t,function(){var t=[];r.O=function(e,s,a,i){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],a=t[u][1],i=t[u][2];for(var l=!0,o=0;o<s.length;o++)(!1&i||n>=i)&&Object.keys(r.O).every((function(t){return r.O[t](s[o])}))?s.splice(o--,1):(l=!1,i<n&&(n=i));if(l){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[s,a,i]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,i,n=s[0],l=s[1],o=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(o)var u=o(r)}for(e&&e(s);c<n.length;c++)i=n[c],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(u)},s=self["webpackChunkcar_dealership"]=self["webpackChunkcar_dealership"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(6762)}));s=r.O(s)})();
//# sourceMappingURL=app.de4a108e.js.map